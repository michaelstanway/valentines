<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Question For You</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #ffdde1 100%);
            font-family: 'Georgia', serif;
            overflow: hidden;
        }

        .container {
            text-align: center;
            padding: 40px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .question {
            font-size: 3rem;
            color: #d63384;
            margin-bottom: 50px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .heart {
            color: #ff1493;
            animation: pulse 1s infinite;
            display: inline-block;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 80px;
        }

        .yes-wrapper {
            position: relative;
        }

        button {
            padding: 20px 60px;
            font-size: 1.5rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Georgia', serif;
        }

        .yes-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .yes-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .speech-bubble {
            position: absolute;
            background: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 1rem;
            color: #d63384;
            white-space: nowrap;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            opacity: 0;
            top: -50px;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: none;
            z-index: 100;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px 8px 0 8px;
            border-style: solid;
            border-color: white transparent transparent transparent;
        }

        .speech-bubble.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .no-btn {
            background: linear-gradient(45deg, #a8a8a8, #c8c8c8);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: fixed;
            transition: left 0.4s ease-out, top 0.4s ease-out, transform 0.2s;
            z-index: 50;
        }

        .no-btn:hover {
            transform: scale(1.05);
        }

        /* Celebration screen */
        .celebration {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #ff69b4 0%, #ff1493 50%, #ff69b4 100%);
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        .celebration.active {
            display: flex;
        }

        .yay-text {
            font-size: clamp(1rem, 5vw, 3rem);
            color: white;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            word-wrap: break-word;
            word-break: break-all;
            text-align: center;
            padding: 20px;
            animation: bounce 0.5s infinite alternate;
            line-height: 1.2;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }

        /* Glitter */
        .glitter {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            animation: sparkle 1.5s forwards;
            z-index: 1001;
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(720deg) scale(0);
            }
        }

        .glitter::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: currentColor;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="question">
            Will you be my Valentine? <span class="heart">&#10084;</span>
        </h1>
        <div class="buttons">
            <div class="yes-wrapper">
                <div class="speech-bubble" id="speechBubble">Hey, over here!</div>
                <button class="yes-btn" onclick="sayYes()">Yes</button>
            </div>
            <div style="width: 140px;"></div> <!-- Placeholder for No button's original space -->
        </div>
    </div>

    <button class="no-btn" id="noBtn">No</button>

    <div class="celebration" id="celebration">
        <div class="yay-text" id="yayText"></div>
    </div>

    <script>
        const noBtn = document.getElementById('noBtn');
        const celebration = document.getElementById('celebration');
        const yayText = document.getElementById('yayText');
        const speechBubble = document.getElementById('speechBubble');

        // Generate the yay text with 1000 a's
        const yayString = 'y' + 'a'.repeat(1000) + 'y!';

        // Speech bubble messages
        const messages = [
            "Hey, over here!",
            "Pick me! Pick me!",
            "I'm the right choice!",
            "Come on, you know you want to!",
            "Yes is the answer!",
            "Don't be shy!",
            "I promise it'll be fun!",
            "Choose love!",
            "This way, darling!",
            "You won't regret it!",
            "I'm waiting for you!",
            "Yes yes yes!",
            "Pretty please?",
            "I'll make you happy!",
            "Trust your heart!",
            "Love is the answer!",
            "Click me instead!",
            "I'm right here!",
            "Don't chase that one!",
            "I'm much nicer!",
            "Yes is always better!",
            "Come to the bright side!",
            "You're so close!",
            "Just one little click!",
            "I believe in us!",
            "Say yes to love!",
            "Best decision ever!",
            "Your heart knows!",
            "Follow your heart!",
            "Yes means happiness!"
        ];

        let messageIndex = 0;
        let isRunning = false;

        // No button escape distance
        const escapeDistance = 120;

        // Position No button initially next to Yes button
        function initNoButton() {
            const container = document.querySelector('.container');
            const containerRect = container.getBoundingClientRect();
            const yesBtn = document.querySelector('.yes-btn');
            const yesBtnRect = yesBtn.getBoundingClientRect();

            // Position No button to the right of where Yes button is
            noBtn.style.left = (yesBtnRect.right + 80) + 'px';
            noBtn.style.top = yesBtnRect.top + 'px';
        }

        // Initialize on load
        window.addEventListener('load', initNoButton);
        window.addEventListener('resize', initNoButton);

        function showSpeechBubble() {
            speechBubble.textContent = messages[messageIndex];
            speechBubble.classList.add('show');
            messageIndex = (messageIndex + 1) % messages.length;

            setTimeout(() => {
                speechBubble.classList.remove('show');
            }, 1500);
        }

        // Track mouse position - active immediately
        document.addEventListener('mousemove', (e) => {
            const rect = noBtn.getBoundingClientRect();
            const btnCenterX = rect.left + rect.width / 2;
            const btnCenterY = rect.top + rect.height / 2;

            const distX = e.clientX - btnCenterX;
            const distY = e.clientY - btnCenterY;
            const distance = Math.sqrt(distX * distX + distY * distY);

            if (distance < escapeDistance && !isRunning) {
                isRunning = true;

                // Calculate new position away from mouse
                let newX, newY;
                const padding = 80;
                const btnWidth = rect.width;
                const btnHeight = rect.height;

                // Try to find a good spot away from mouse
                let attempts = 0;
                do {
                    newX = Math.random() * (window.innerWidth - btnWidth - padding * 2) + padding;
                    newY = Math.random() * (window.innerHeight - btnHeight - padding * 2) + padding;
                    attempts++;
                } while (
                    Math.sqrt(Math.pow(e.clientX - newX, 2) + Math.pow(e.clientY - newY, 2)) < escapeDistance * 2.5 &&
                    attempts < 20
                );

                noBtn.style.left = newX + 'px';
                noBtn.style.top = newY + 'px';

                // Show speech bubble from Yes button
                showSpeechBubble();

                // Allow running again after transition completes
                setTimeout(() => {
                    isRunning = false;
                }, 450);
            }
        });

        function sayYes() {
            celebration.classList.add('active');
            yayText.textContent = yayString;

            // Create glitter
            createGlitter();
            setInterval(createGlitter, 100);
        }

        function createGlitter() {
            const colors = ['#FFD700', '#FF69B4', '#00FFFF', '#FF1493', '#FFFFFF', '#FFA500', '#FF0000', '#FFFF00'];

            for (let i = 0; i < 10; i++) {
                const glitter = document.createElement('div');
                glitter.className = 'glitter';
                glitter.style.left = Math.random() * 100 + 'vw';
                glitter.style.top = '-20px';
                glitter.style.color = colors[Math.floor(Math.random() * colors.length)];
                glitter.style.width = (Math.random() * 15 + 5) + 'px';
                glitter.style.height = glitter.style.width;
                glitter.style.animationDuration = (Math.random() * 2 + 1) + 's';
                document.body.appendChild(glitter);

                // Remove after animation
                setTimeout(() => glitter.remove(), 3000);
            }
        }
    </script>
</body>
</html>
